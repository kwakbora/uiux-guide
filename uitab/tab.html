<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tab Component</title>
    <link rel="stylesheet" href="tab.css">
</head>
<body>
<div class="container">
    <h1>Tab Component</h1>
    <h2>기본 탭</h2>
    <box>
        <div data-tab="tab-wrap1">
            <div data-tab-nav>
                <div role="tablist">
                    <button data-tab-btn data-tab-active="true" data-tab-target="tab1">탭 1</button>
                    <button data-tab-btn data-tab-target="tab2">탭 2</button>
                    <button data-tab-btn data-tab-target="tab3">탭 3</button>
                </div>
            </div>
            
            <div data-tab-content>
                <div data-tab-panel data-tab-id="tab1" data-tab-active="true">
                    <h3>탭 1 내용</h3>
                    <p>첫 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                
                <div data-tab-panel data-tab-id="tab2">
                    <h3>탭 2 내용</h3>
                    <p>두 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                
                <div data-tab-panel data-tab-id="tab3">
                    <h3>탭 3 내용</h3>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
            </div>
        </div>
    </box>

    <h2>탭 navigation 가운데 정렬(data-option="scroll")</h2>
    <box>
        <div data-tab="tab-wrap2" data-option="scroll">
            <div data-tab-nav>
							<div role="tablist">
									<button data-tab-btn data-tab-active="true" data-tab-target="tab1">탭 1</button>
									<button data-tab-btn data-tab-target="tab2">탭 2</button>
									<button data-tab-btn data-tab-target="tab3">탭 3</button>
									<button data-tab-btn data-tab-target="tab4">탭 4</button>
									<button data-tab-btn data-tab-target="tab5">탭 5</button>
									<button data-tab-btn data-tab-target="tab6">탭 6</button>
									<button data-tab-btn data-tab-target="tab7">탭 7</button>
                </div>
            </div>
            
            <div data-tab-content>
                <div data-tab-panel data-tab-id="tab1" data-tab-active="true">
                    <h3>탭 1 내용</h3>
                    <p>첫 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                
                <div data-tab-panel data-tab-id="tab2">
                    <h3>탭 2 내용</h3>
                    <p>두 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                
                <div data-tab-panel data-tab-id="tab3">
									<h3>탭 3 내용</h3>
										<p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                    <p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                <div data-tab-panel data-tab-id="tab4">
                    <h3>탭 4 내용</h3>
                    <p>네 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                <div data-tab-panel data-tab-id="tab5">
                    <h3>탭 5 내용</h3>
                    <p>다섯 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                <div data-tab-panel data-tab-id="tab6">
                    <h3>탭 6 내용</h3>
                    <p>여섯 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
                <div data-tab-panel data-tab-id="tab7">
                    <h3>탭 7 내용</h3>
                    <p>일곱 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
                </div>
            </div>
        </div>
    </box>

		<h2>탭 안에 탭</h2>
		<box>
			<div data-tab="tab-wrap2" data-option="scroll">
				<div data-tab-nav>
					<div role="tablist">
						<button data-tab-btn data-tab-active="true" data-tab-target="tab1">탭 1</button>
						<button data-tab-btn data-tab-target="tab2">탭 2</button>
						<button data-tab-btn data-tab-target="tab3">탭 3</button>
						<button data-tab-btn data-tab-target="tab4">탭 4</button>
						<button data-tab-btn data-tab-target="tab5">탭 5</button>
						<button data-tab-btn data-tab-target="tab6">탭 6</button>
						<button data-tab-btn data-tab-target="tab7">탭 7</button>
					</div>
				</div>
				
				<div data-tab-content>
					<div data-tab-panel data-tab-id="tab1" data-tab-active="true">
						<h3>탭 1 내용</h3>
						<p>첫 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
					
					<div data-tab-panel data-tab-id="tab2">
						<h3>탭 2 내용</h3>
						<p>두 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
						
						<!-- 탭 2 안에 있는 개별 탭 -->
						<div data-tab="nested-tab" data-option="scroll">
							<div data-tab-nav>
								<div role="tablist">
									<button data-tab-btn data-tab-active="true" data-tab-target="nested-tab1">중첩 탭 1</button>
									<button data-tab-btn data-tab-target="nested-tab2">중첩 탭 2</button>
								</div>
							</div>
							
							<div data-tab-content>
								<div data-tab-panel data-tab-id="nested-tab1" data-tab-active="true">
									<h4>중첩 탭 1 내용</h4>
									<p>탭 2 안에 있는 첫 번째 중첩 탭의 내용입니다.</p>
								</div>
								
								<div data-tab-panel data-tab-id="nested-tab2">
									<h4>중첩 탭 2 내용</h4>
									<p>탭 2 안에 있는 두 번째 중첩 탭의 내용입니다.</p>
								</div>
							</div>
						</div>
					</div>
					
					<div data-tab-panel data-tab-id="tab3">
						<h3>탭 3 내용</h3>
						<p>세 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
					<div data-tab-panel data-tab-id="tab4">
						<h3>탭 4 내용</h3>
						<p>네 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
					<div data-tab-panel data-tab-id="tab5">
						<h3>탭 5 내용</h3>
						<p>다섯 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
					<div data-tab-panel data-tab-id="tab6">
						<h3>탭 6 내용</h3>
						<p>여섯 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
					<div data-tab-panel data-tab-id="tab7">
						<h3>탭 7 내용</h3>
						<p>일곱 번째 탭의 내용입니다. 여기에 원하는 내용을 추가하세요.</p>
					</div>
				</div>
			</div>
		</box>
</div>
    <script>
        // 여러 개의 탭을 지원하는 Tab 클래스
        class Tab {
            constructor(tabContainer) {
                this.tabContainer = tabContainer;
                this.tabButtons = tabContainer.querySelectorAll('[data-tab-btn]');
                this.tabPanels = tabContainer.querySelectorAll('[data-tab-panel]');
                this.tabNav = tabContainer.querySelector('[data-tab-nav]');
                this.option = tabContainer.getAttribute('data-option');
                this.init();
            }

            init() {
                this.tabButtons.forEach(button => {
                    button.addEventListener('click', () => {
											console.log('11111')
                        this.activateTab(button.getAttribute('data-tab-target'));
                    });
                });
            }

            activateTab(targetTab) {
                // 모든 탭 버튼과 패널에서 active 속성 제거
                this.tabButtons.forEach(btn => btn.removeAttribute('data-tab-active'));
                this.tabPanels.forEach(panel => panel.removeAttribute('data-tab-active'));

                // 클릭된 버튼과 해당 패널에 active 속성 추가
                const activeButton = Array.from(this.tabButtons).find(btn => btn.getAttribute('data-tab-target') === targetTab);
                if (activeButton) {
                    activeButton.setAttribute('data-tab-active', 'true');
                    // scroll 옵션이 있는 경우 스크롤 기능 추가
                    if (this.option === 'scroll') {
                        this.scrollToTab(activeButton);
                    }
                }
                const targetPanel = this.tabContainer.querySelector(`[data-tab-panel][data-tab-id="${targetTab}"]`);
                if (targetPanel) {
                    targetPanel.setAttribute('data-tab-active', 'true');
                }
            }

            scrollToTab(activeButton) {
                if (!this.tabNav) return;
                
                const navRect = this.tabNav.getBoundingClientRect();
                const buttonRect = activeButton.getBoundingClientRect();
                const currentScrollLeft = this.tabNav.scrollLeft;
                
                // 항상 가운데 정렬로 스크롤 (화면에 보이든 안 보이든)
                const scrollLeft = currentScrollLeft + buttonRect.left - navRect.left - (navRect.width / 2) + (buttonRect.width / 2);
                this.tabNav.scrollLeft = scrollLeft;
            }
        }

        // DOMContentLoaded 시 모든 탭 컨테이너에 대해 Tab 인스턴스 생성
        document.addEventListener('DOMContentLoaded', function() {
            const tabContainers = document.querySelectorAll('[data-tab]');
            tabContainers.forEach(container => {
                new Tab(container);
            });
        });
    </script>
</body>
</html> 